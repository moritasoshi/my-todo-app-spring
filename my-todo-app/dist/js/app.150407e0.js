(function(e){function t(t){for(var r,n,c=t[0],d=t[1],s=t[2],u=0,l=[];u<c.length;u++)n=c[u],Object.prototype.hasOwnProperty.call(a,n)&&a[n]&&l.push(a[n][0]),a[n]=0;for(r in d)Object.prototype.hasOwnProperty.call(d,r)&&(e[r]=d[r]);f&&f(t);while(l.length)l.shift()();return i.push.apply(i,s||[]),o()}function o(){for(var e,t=0;t<i.length;t++){for(var o=i[t],r=!0,n=1;n<o.length;n++){var c=o[n];0!==a[c]&&(r=!1)}r&&(i.splice(t--,1),e=d(d.s=o[0]))}return e}var r={},n={app:0},a={app:0},i=[];function c(e){return d.p+"js/"+({board:"board"}[e]||e)+"."+{board:"d80bb6d4"}[e]+".js"}function d(t){if(r[t])return r[t].exports;var o=r[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,d),o.l=!0,o.exports}d.e=function(e){var t=[],o={board:1};n[e]?t.push(n[e]):0!==n[e]&&o[e]&&t.push(n[e]=new Promise((function(t,o){for(var r="css/"+({board:"board"}[e]||e)+"."+{board:"340bbb85"}[e]+".css",a=d.p+r,i=document.getElementsByTagName("link"),c=0;c<i.length;c++){var s=i[c],u=s.getAttribute("data-href")||s.getAttribute("href");if("stylesheet"===s.rel&&(u===r||u===a))return t()}var l=document.getElementsByTagName("style");for(c=0;c<l.length;c++){s=l[c],u=s.getAttribute("data-href");if(u===r||u===a)return t()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=t,f.onerror=function(t){var r=t&&t.target&&t.target.src||a,i=new Error("Loading CSS chunk "+e+" failed.\n("+r+")");i.code="CSS_CHUNK_LOAD_FAILED",i.request=r,delete n[e],f.parentNode.removeChild(f),o(i)},f.href=a;var p=document.getElementsByTagName("head")[0];p.appendChild(f)})).then((function(){n[e]=0})));var r=a[e];if(0!==r)if(r)t.push(r[2]);else{var i=new Promise((function(t,o){r=a[e]=[t,o]}));t.push(r[2]=i);var s,u=document.createElement("script");u.charset="utf-8",u.timeout=120,d.nc&&u.setAttribute("nonce",d.nc),u.src=c(e);var l=new Error;s=function(t){u.onerror=u.onload=null,clearTimeout(f);var o=a[e];if(0!==o){if(o){var r=t&&("load"===t.type?"missing":t.type),n=t&&t.target&&t.target.src;l.message="Loading chunk "+e+" failed.\n("+r+": "+n+")",l.name="ChunkLoadError",l.type=r,l.request=n,o[1](l)}a[e]=void 0}};var f=setTimeout((function(){s({type:"timeout",target:u})}),12e4);u.onerror=u.onload=s,document.head.appendChild(u)}return Promise.all(t)},d.m=e,d.c=r,d.d=function(e,t,o){d.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},d.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},d.t=function(e,t){if(1&t&&(e=d(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(d.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)d.d(o,r,function(t){return e[t]}.bind(null,r));return o},d.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return d.d(t,"a",t),t},d.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},d.p="/",d.oe=function(e){throw console.error(e),e};var s=window["webpackJsonp"]=window["webpackJsonp"]||[],u=s.push.bind(s);s.push=t,s=s.slice();for(var l=0;l<s.length;l++)t(s[l]);var f=u;i.push([0,"chunk-vendors"]),o()})({0:function(e,t,o){e.exports=o("56d7")},"56d7":function(e,t,o){"use strict";o.r(t);o("e260"),o("e6cf"),o("cca6"),o("a79d");var r=o("2b0e"),n=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("v-app",[o("Toolbar"),o("v-content",[o("v-container",{attrs:{fluid:"",fillMheight:"","align-start":""}},[o("router-view")],1)],1)],1)},a=[],i=o("5530"),c=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("v-app-bar",{attrs:{app:"",color:"blue darken-3",dark:"",dense:""}},[o("v-toolbar-items",[o("v-btn",{attrs:{icon:""},on:{click:e.toHome}},[o("v-icon",[e._v("mdi-home")])],1)],1),o("v-spacer"),o("v-toolbar-title",{attrs:{dark:""}},[e._v(" My Board App ")]),o("v-spacer"),e.$store.state.login_user?o("v-toolbar-items",[o("v-btn",{attrs:{text:""},on:{click:e.logout}},[e._v(" Logout ")])],1):o("v-toolbar-items",[o("v-btn",{attrs:{text:""},on:{click:e.login}},[e._v("Sign in")])],1),o("v-list-item-avatar",[e.photoURL?o("img",{attrs:{src:e.photoURL}}):e._e()])],1)},d=[],s=(o("b0c0"),o("2f62")),u={methods:Object(i["a"])({toHome:function(){"home"!==this.$router.currentRoute.name&&this.$router.push({name:"home"})}},Object(s["b"])(["login","logout"])),computed:Object(i["a"])({},Object(s["c"])(["photoURL"]))},l=u,f=o("2877"),p=o("6544"),b=o.n(p),m=o("40dc"),v=o("8336"),h=o("132d"),g=o("8270"),_=o("2fa4"),y=o("2a7f"),w=Object(f["a"])(l,c,d,!1,null,null,null),B=w.exports;b()(w,{VAppBar:m["a"],VBtn:v["a"],VIcon:h["a"],VListItemAvatar:g["a"],VSpacer:_["a"],VToolbarItems:y["a"],VToolbarTitle:y["b"]});var O=o("8aa5"),j=o.n(O),x={name:"App",components:{Toolbar:B},created:function(){var e=this;j.a.auth().onAuthStateChanged((function(t){t?(e.setLoginUser(t),e.fetchBoards()):(e.deleteLoginUser(),e.$router.push({name:"home"},(function(){})))}))},data:function(){return{}},methods:Object(i["a"])({},Object(s["b"])(["fetchBoards","setLoginUser","logout","deleteLoginUser"]))},L=x,k=o("7496"),V=o("a523"),C=o("a75b"),S=Object(f["a"])(L,n,a,!1,null,null,null),T=S.exports;b()(S,{VApp:k["a"],VContainer:V["a"],VContent:C["a"]});o("d3b7");var E=o("8c4f"),U=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("v-container",[o("h2",[e._v("Your boards")]),o("v-container",{staticClass:"d-flex"},e._l(e.boards,(function(t,r){return o("v-card",{key:r,staticClass:"ma-2",attrs:{to:{name:"board",params:{slug:t.board_name}},width:"200",height:"125",hover:"",dark:"",link:"",color:"cyan lighten-2"}},[o("v-card-title",{domProps:{textContent:e._s(t.board_name)}})],1)})),1),o("h2",[e._v("Create a new board")]),o("v-container",[o("v-flex",{attrs:{xs4:"","mt-5":""}},[o("v-card",[o("v-card-text",[o("ValidationObserver",{scopedSlots:e._u([{key:"default",fn:function(t){var r=t.invalid;return[o("v-form",[o("ValidationProvider",{attrs:{rules:"required",name:"ボードタイトル"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.errors,n=t.valid;return[o("v-text-field",{attrs:{outlined:"",label:"ボードタイトル",color:"grey","error-messages":r,success:n},model:{value:e.newBoard.board_name,callback:function(t){e.$set(e.newBoard,"board_name",t)},expression:"newBoard.board_name"}})]}}],null,!0)}),o("v-btn",{staticClass:"ml-2",attrs:{disabled:r,color:"green lighten-2",dark:""},on:{click:e.createNewBoard}},[e._v("新しいボードを作成")])],1)]}}])})],1)],1)],1)],1)],1)},A=[],P=o("4c93"),I=o("ddd7"),N=o("7bb1");Object(N["c"])("required",P["a"]),Object(N["d"])("ja",I);var $={components:{ValidationProvider:N["b"],ValidationObserver:N["a"]},data:function(){return{newBoard:{board_name:null,tiles:[]}}},computed:{boards:function(){return this.$store.state.boards}},methods:Object(i["a"])({createNewBoard:function(){this.addBoard(this.newBoard),this.newBoard={board_name:null,tiles:[]}}},Object(s["b"])(["addBoard"]))},R=$,M=o("b0af"),D=o("99d9"),F=o("0e8f"),H=o("4bd4"),q=o("8654"),G=Object(f["a"])(R,U,A,!1,null,null,null),z=G.exports;b()(G,{VBtn:v["a"],VCard:M["a"],VCardText:D["b"],VCardTitle:D["c"],VContainer:V["a"],VFlex:F["a"],VForm:H["a"],VTextField:q["a"]}),r["a"].use(E["a"]);var J=[{path:"/",name:"home",props:!0,component:z},{path:"/board/:slug",name:"board",props:!0,component:function(){return o.e("board").then(o.bind(null,"5d6d"))}}],K=new E["a"]({mode:"history",base:"/",routes:J}),Y=K;o("c740"),o("4160"),o("a434"),o("159b");r["a"].use(s["a"]);var W=new s["a"].Store({state:{login_user:null,boards:[]},mutations:{setLoginUser:function(e,t){e.login_user=t},deleteLoginUser:function(e){e.login_user=null},addBoard:function(e,t){var o=t.id,r=t.board;r.board_id=o,e.boards.push(r)},updateBoard:function(e,t){var o=e.boards.findIndex((function(e){return e.board_id===t.board_id}));e.boards[o]=t},deleteBoard:function(e,t){var o=e.boards.findIndex((function(e){return e.board_id===t.board_id}));e.boards.splice(o,1)}},actions:{login:function(){var e=new j.a.auth.GoogleAuthProvider;j.a.auth().signInWithRedirect(e)},logout:function(){j.a.auth().signOut()},setLoginUser:function(e,t){var o=e.commit;o("setLoginUser",t)},deleteLoginUser:function(e){var t=e.commit;t("deleteLoginUser")},fetchBoards:function(e){var t=e.getters,o=e.commit;console.log("Now fetchBoards"),j.a.firestore().collection("users").doc(t.uid).collection("boards").get().then((function(e){e.forEach((function(e){o("addBoard",{id:e.id,board:e.data()})}))})).catch((function(e){console.log("Error getting documents: ",e)}))},addBoard:function(e,t){var o=e.getters,r=e.commit;j.a.firestore().collection("users").doc(o.uid).collection("boards").add(t).then((function(e){r("addBoard",{id:e.id,board:t})})).catch((function(e){console.log("Error getting documents: ",e)}))},updateBoard:function(e,t){var o=e.getters,r=e.commit;j.a.firestore().collection("users").doc(o.uid).collection("boards").doc(t.board_id).set(t).then((function(){r("updateBoard",t)})).catch((function(e){console.log("Error getting documents: ",e)}))},deleteBoard:function(e,t){var o=e.commit,r=e.getters;j.a.firestore().collection("users").doc(r.uid).collection("boards").doc(t.board_id).delete().then((function(){console.log("Document successfully deleted!"),o("deleteBoard",t)})).catch((function(e){console.error("Error removing document: ",e)}))}},getters:{uid:function(e){return e.login_user?e.login_user.uid:null},userName:function(e){return e.login_user?e.login_user.displayName:""},photoURL:function(e){return e.login_user?e.login_user.photoURL:""}}}),Z=o("f309");r["a"].use(Z["a"]);var Q=new Z["a"]({});r["a"].config.productionTip=!1;var X={apiKey:"AIzaSyAidT0jZFywdSOHt9yrDUP_FHn761vpCcs",authDomain:"my-todo-app-fbc02.firebaseapp.com",databaseURL:"https://my-todo-app-fbc02.firebaseio.com",projectId:"my-todo-app-fbc02",storageBucket:"my-todo-app-fbc02.appspot.com",messagingSenderId:"47428742568",appId:"1:47428742568:web:cded40ae63025e5493c19d",measurementId:"G-LTEMSYTG5D"};j.a.initializeApp(X),j.a.analytics(),new r["a"]({router:Y,store:W,vuetify:Q,render:function(e){return e(T)}}).$mount("#app")}});
//# sourceMappingURL=app.150407e0.js.map